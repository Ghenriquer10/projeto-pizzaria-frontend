(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{6117:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return c(7273)}])},5869:function(e,b,a){"use strict";a.d(b,{h:function(){return l}});var f=a(5893),g=a(7294),c=a(1664),h=a.n(c),d=a(6150),i=a.n(d),j=a(6893),k=a(1771);function l(){var a=(0,g.useContext)(k.Vo).signOut;return(0,f.jsx)("header",{className:i().headerContainer,children:(0,f.jsxs)("div",{className:i().headerContent,children:[(0,f.jsx)(h(),{href:"/dashboard",children:(0,f.jsx)("img",{src:"logo.svg",width:190,height:60})}),(0,f.jsxs)("nav",{className:i().navContent,children:[(0,f.jsx)(h(),{href:"/",children:(0,f.jsx)("a",{children:"Pedidos"})}),(0,f.jsx)(h(),{href:"/category",children:(0,f.jsx)("a",{children:"Categoria"})}),(0,f.jsx)(h(),{href:"/product",children:(0,f.jsx)("a",{children:"Novo produto"})}),(0,f.jsx)("button",{onClick:a,children:(0,f.jsx)(j.xqh,{size:24})})]})]})})}},7273:function(h,b,a){"use strict";a.r(b),a.d(b,{"__N_SSP":function(){return v},default:function(){return w}});var i=a(7568),c=a(4051),j=a.n(c),k=a(5893),l=a(7294),d=a(9008),m=a.n(d),e=a(741),n=a.n(e),o=a(5869),p=a(6893),q=a(6518),f=a(3253),r=a.n(f),g=a(5234),s=a.n(g);function t(a){var d=a.isOpen,b=a.onRequestClose,c=a.order,e=a.handleFinishOrder;return(0,k.jsx)(r(),{isOpen:d,onRequestClose:b,style:{content:{top:"50%",bottom:"auto",left:"50%",right:"auto",padding:"30px",transform:"translate(-50%, -50%)",backgroundColor:"#1D1D2E"}},children:(0,k.jsxs)("button",{type:"button",onClick:b,className:"react-modal-close",style:{background:"transparent",border:0},children:[(0,k.jsx)(p.q5L,{size:45,color:"#f34738"}),(0,k.jsxs)("div",{className:s().container,children:[(0,k.jsx)("h2",{children:"Detalhes do pedido"}),(0,k.jsxs)("span",{className:s().table,children:["Mesa: ",(0,k.jsx)("strong",{children:c[0].order.table})]}),c.map(function(a){return(0,k.jsxs)("section",{className:s().containerItem,children:[(0,k.jsxs)("span",{children:[a.amount," -",(0,k.jsx)("strong",{children:a.product.name})]}),(0,k.jsx)("span",{className:s().description,children:a.product.description})]},a.id)}),(0,k.jsx)("button",{className:s().buttonOrder,onClick:function(){return e(c[0].order_id)},children:"Concluir pedido"})]})]})})}var u=a(2920),v=!0;function w(f){var g=f.orders,a=(0,l.useState)(g||[]),b=a[0],s=a[1],c=(0,l.useState)(),h=c[0],v=c[1],d=(0,l.useState)(!1),e=d[0],w=d[1];function x(){return(x=(0,i.Z)(j().mark(function a(b){var c,d;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=(0,q.$)(),a.next=3,c.put("/order/finish",{order_id:b});case 3:return a.next=5,c.get("/orders");case 5:s((d=a.sent).data),u.Am.success("Pedido finalizado com sucesso!"),w(!1);case 9:case"end":return a.stop()}},a)}))).apply(this,arguments)}function y(){return(y=(0,i.Z)(j().mark(function a(b){var c,d;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=(0,q.$)(),a.next=3,c.get("/order/detail",{params:{order_id:b}});case 3:v((d=a.sent).data),console.log(d.data),w(!0);case 7:case"end":return a.stop()}},a)}))).apply(this,arguments)}function z(){return(z=(0,i.Z)(j().mark(function a(){var b,c;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=(0,q.$)(),a.next=3,b.get("/orders");case 3:return c=a.sent,a.t0=s,a.next=7,c;case 7:a.t1=a.sent.data,(0,a.t0)(a.t1);case 9:case"end":return a.stop()}},a)}))).apply(this,arguments)}return r().setAppElement("#__next"),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(m(),{children:(0,k.jsx)("title",{children:"Painel - Pizzaria"})}),(0,k.jsxs)("div",{children:[(0,k.jsx)(o.h,{}),(0,k.jsxs)("main",{className:n().container,children:[(0,k.jsxs)("div",{className:n().containerHeader,children:[(0,k.jsx)("p",{children:"\xdaltimos pedidos"}),(0,k.jsx)("button",{children:(0,k.jsx)(p.Qxo,{onClick:function(){return z.apply(this,arguments)},size:25,color:"#3fffa3"})})]}),(0,k.jsxs)("article",{className:n().listOrders,children:[0===b.length&&(0,k.jsx)("span",{className:n().emptyList,children:"Nenhum pedido aberto foi encontrado!"}),b.map(function(a){return(0,k.jsx)("section",{className:n().listItem,children:(0,k.jsxs)("button",{onClick:function(){return function(a){return y.apply(this,arguments)}(a.id)},children:[(0,k.jsx)("div",{className:n().tag}),(0,k.jsxs)("span",{children:["Mesa: ",a.table]})]})},a.id)})]})]}),e&&(0,k.jsx)(t,{isOpen:e,onRequestClose:function(){w(function(a){return!a})},order:h,handleFinishOrder:function(a){return x.apply(this,arguments)}})]})]})}},6150:function(a){a.exports={headerContainer:"header_headerContainer__sb69X",headerContent:"header_headerContent___WQLC",navContent:"header_navContent__A4gKa"}},5234:function(a){a.exports={container:"modal_container__hWwgf",table:"modal_table__5JqxT",containerItem:"modal_containerItem__SpYRI",description:"modal_description__D7xMk",buttonOrder:"modal_buttonOrder__3ILz7"}},741:function(a){a.exports={container:"dashboard_container__rXuWG",containerHeader:"dashboard_containerHeader__VSK6z",listOrders:"dashboard_listOrders__WMAg_",listItem:"dashboard_listItem__5e_lT",tag:"dashboard_tag__l96v3",emptyList:"dashboard_emptyList__J5erk"}}},function(a){a.O(0,[831,893,253,774,888,179],function(){var b;return a(a.s=6117)}),_N_E=a.O()}])